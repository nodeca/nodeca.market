article#content.market-user.market-user__m-buy-closed
  - var navbar_args = { level_up: self.link_to('users.member', { user_hid: self.user_hid }) };
  != self.partial('@common.blocks.navbar.levelup_apps', navbar_args)

  nav.breadcrumbs-container
    .layout__container.container-fluid
      != self.partial('@users.blocks.breadcrumbs')

  .layout__container.container-fluid
    != self.partial('@users.blocks.announces')
    != self.partial('@market.blocks.drafts')

    header.page-head.market-user__head
      h1.market-user__title.page-head__title(itemprop='name')= self.t('title')

    != self.partial('@market.user.tabs', { active_tab: 'buy_closed' })

    if self.items && self.items.length
      .market-user__loading-prev.nojs-hide(
        class=(self.pagination.chunk_offset === 0 ? 'd-none' : '')
      )
        span.icon.icon-loading-placeholder

      ul.market-user__item-list._affix(
        data-affix-top={
          offset:     500,
          wire_above: 'market.user.buy_closed:load_prev',
          throttle:   100
        }
        data-affix-bottom={
          offset:     500,
          wire_below: 'market.user.buy_closed:load_next',
          throttle:   100
        }
      )!= self.partial('@market.blocks.user_item_offer_list')

      .market-user__loading-next.nojs-hide(
        class=(self.items && self.items.length > 0 && self.items[self.items.length - 1].hid === self.last_item_hid ? 'd-none' : '')
      )
        span.icon.icon-loading-placeholder

      nav.pager.js-hide
        if self.head.prev
          a.btn.btn-secondary(href=self.head.prev)= self.t('prev_page')

        if self.head.next
          a.btn.btn-secondary(href=self.head.next)= self.t('next_page')
    else
      p.market-user__no-items
        != self.t('no_items')
